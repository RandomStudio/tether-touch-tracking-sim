import{T as p,r as c,e as f}from"./vendor.ff9c1020.js";const u=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))r(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function r(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}};u();const a=new p("trackingSim"),h=async(i,n)=>{console.log("Connect Tether @ ",i,"...");try{await a.connect({protocol:"ws",host:i||void 0,port:15675,path:"/ws"},!1)}catch(e){console.error("Tether connect error:",e)}const s=await a.createOutput("trackedPoints"),r=document.getElementById("interaction-area");r&&r.addEventListener("pointerdown",e=>{const t=document.createElement("div");t.classList.add("shadow"),t.style.left=`${e.x}px`,t.style.top=`${e.y}px`,r.appendChild(t),t.setPointerCapture(e.pointerId),d(s,e.pointerId,e.x,e.y,n),t.addEventListener("pointermove",o=>{t.style.left=`${o.x}px`,t.style.top=`${o.y}px`,d(s,o.pointerId,o.x,o.y,n)}),t.addEventListener("pointerup",o=>{r.removeChild(t)})})},m=new URLSearchParams(window.location.search),y=m.get("tetherHost"),d=(i,n,s,r,e)=>{const[t,o]=[c(s,[0,e.w],[0,1]),c(r,[0,e.h],[0,1])],l={id:n,position:{x:t,y:o}};i.publish(Buffer.from(f(l)))};window.onload=()=>{h(y,{w:window.innerWidth,h:window.innerHeight})};
